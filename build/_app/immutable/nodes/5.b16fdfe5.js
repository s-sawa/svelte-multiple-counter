import{s as He,h as Ae,n as ne,r as Ne,c as De,i as Pe,j as se}from"../chunks/scheduler.659ee57f.js";import{S as ze,i as Le,g as C,s as z,e as le,D as Oe,h as T,f as p,c as L,y as Q,j as H,k as y,E as G,A as k,a as A,B as ee,m as N,n as D,l as R,o as te,F as Se,C as Ce}from"../chunks/index.0592b8d4.js";import{e as I,u as Te,d as We}from"../chunks/each.3874fca9.js";import{p as Xe}from"../chunks/parse.bee59afc.js";import{j as Fe,k as Ie,r as je}from"../chunks/singletons.565e189b.js";const qe=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,Be=(a,e={})=>{de(e);let{colors:t=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:r=3500,force:l=.5,particleCount:i=150,particleShape:s="mix",particleSize:n=12,destroyAfterDone:u=!0,stageHeight:g=800,stageWidth:h=1600}=e;(function(o){const m=Y("style");m.dataset.neoconfetti="",m.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Z(document.head,m)})(),a.classList.add("fk9XWG_container"),a.style.setProperty("--stage-height",g+"px");let _,b=ue(i,t),f=oe(a,b);function c(o,m){const S=V(O()*(Je-1)),v=s!=="rectangles"&&(s==="circles"||Ke(S)),E=(F,P)=>o.style.setProperty(F,P+"");E("--x-landing-point",J(U(fe(m,90)-180),0,180,-h/2,h/2)+"px"),E("--duration-chaos",r-V(1e3*O())+"ms");const X=O()<Ue?j(O()*xe,2):0;E("--x1",X),E("--x2",-1*X),E("--x3",X),E("--x4",j(U(J(U(fe(m,90)-180),0,180,-1,1)),4)),E("--y1",j(O()*ce,4)),E("--y2",j(O()*l*(Me()?1:-1),4)),E("--y3",ce),E("--y4",j(Re(J(U(m-180),0,180,l,-l),0),4)),E("--width",(v?n:V(4*O())+n/2)+"px"),E("--height",(v?n:V(2*O())+n)+"px");const B=S.toString(2).padStart(3,"0").split("");E("--half-rotation",B.map(F=>+F/2+"")),E("--rotation",B),E("--rotation-duration",j(O()*(Ve-ie)+ie)+"ms"),E("--border-radius",v?"50%":0)}for(const[o,m]of Object.entries(f))c(m,b[+o].degree);return Promise.resolve().then(()=>_=setTimeout(()=>u&&(a.innerHTML=""),r)),{update(o){de(o);const m=o.particleCount??i,S=o.colors??t,v=o.stageHeight??g;if(b=ue(m,S),m===i&&JSON.stringify(t)!==JSON.stringify(S))for(const[E,{color:X}]of Object.entries(b))f[+E].style.setProperty("--bgcolor",X);m!==i&&(a.innerHTML="",f=oe(a,b)),u&&!o.destroyAfterDone&&clearTimeout(_),a.style.setProperty("--stage-height",v+"px"),t=S,r=o.duration??r,l=o.force??l,i=m,s=o.particleShape??s,n=o.particleSize??n,u=o.destroyAfterDone??u,g=v,h=o.stageWidth??h},destroy(){clearTimeout(_)}}};function oe(a,e=[]){const t=[];for(const{color:r}of e){const l=Y("div");l.className="fk9XWG_particle",l.style.setProperty("--bgcolor",r);const i=Y("div");Z(l,i),Z(a,l),t.push(l)}return t}const ie=200,Ve=800,Ue=.1,xe=.3,ce=.5,U=Math.abs,O=Math.random,V=Math.round,Re=Math.max,Y=a=>document.createElement(a),Z=(a,e)=>a.appendChild(e),ue=(a,e)=>Array.from({length:a},(t,r)=>({color:e[r%e.length],degree:360*r/a})),j=(a,e=2)=>V((a+Number.EPSILON)*10**e)/10**e,J=(a,e,t,r,l)=>(a-e)*(l-r)/(t-e)+r,fe=(a,e)=>a+e>360?a+e-360:a+e,Me=()=>O()>.5,Je=6,Ke=a=>a!==1&&Me(),$=a=>a===void 0,q=(a,e)=>{if(!$(a)&&Number.isSafeInteger(a)&&a<0)throw new Error(e+" must be a positive integer")},de=({particleCount:a,duration:e,colors:t,particleSize:r,force:l,stageHeight:i,stageWidth:s,particleShape:n})=>{if(q(a,"particleCount"),q(e,"duration"),q(r,"particleSize"),q(l,"force"),q(i,"stageHeight"),q(s,"stageWidth"),!$(n)&&!/^(mix|circles|rectangles)$/i.test(n))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!$(t)&&!Array.isArray(t))throw new Error("colors must be an array of strings");if(l>1)throw new Error("force must be within 0 and 1")},Qe=Fe("invalidate_all");function Ye(a){return Ie.apply_action(a)}function Ze(a){const e=JSON.parse(a);return e.data&&(e.data=Xe(e.data)),e}function he(a){return HTMLElement.prototype.cloneNode.call(a)}function $e(a,e=()=>{}){const t=async({action:l,result:i,reset:s=!0,invalidateAll:n=!0})=>{i.type==="success"&&(s&&HTMLFormElement.prototype.reset.call(a),n&&await Qe()),(location.origin+location.pathname===l.origin+l.pathname||i.type==="redirect"||i.type==="error")&&Ye(i)};async function r(l){var c,o,m,S;if(((c=l.submitter)!=null&&c.hasAttribute("formmethod")?l.submitter.formMethod:he(a).method)!=="post")return;l.preventDefault();const s=new URL((o=l.submitter)!=null&&o.hasAttribute("formaction")?l.submitter.formAction:he(a).action),n=new FormData(a),u=(m=l.submitter)==null?void 0:m.getAttribute("name");u&&n.append(u,((S=l.submitter)==null?void 0:S.getAttribute("value"))??"");const g=new AbortController;let h=!1;const b=await e({action:s,cancel:()=>h=!0,controller:g,get data(){return n},formData:n,get form(){return a},formElement:a,submitter:l.submitter})??t;if(h)return;let f;try{const v=await fetch(s,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:n,signal:g.signal});f=Ze(await v.text()),f.type==="error"&&(f.status=v.status)}catch(v){if((v==null?void 0:v.name)==="AbortError")return;f={type:"error",error:v}}b({action:s,get data(){return n},formData:n,get form(){return a},formElement:a,update:v=>t({action:s,result:f,reset:v==null?void 0:v.reset,invalidateAll:v==null?void 0:v.invalidateAll}),result:f})}return HTMLFormElement.prototype.addEventListener.call(a,"submit",r),{destroy(){HTMLFormElement.prototype.removeEventListener.call(a,"submit",r)}}}const Ge="(prefers-reduced-motion: reduce)",et=()=>window.matchMedia(Ge).matches,tt=je(et(),a=>{{const e=r=>{a(r.matches)},t=window.matchMedia(Ge);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});const{document:K,window:at}=qe;function me(a,e,t){const r=a.slice();return r[11]=e[t],r}function _e(a,e,t){const r=a.slice();return r[14]=e[t],r}function pe(a,e,t){const r=a.slice();r[11]=e[t];const l=r[11]===r[4];return r[17]=l,r}function be(a,e,t){var _,b;const r=a.slice();r[20]=e[t];const l=r[17]?r[3]:r[1].guesses[r[11]];r[21]=l;const i=(_=r[1].answers[r[11]])==null?void 0:_[r[20]];r[22]=i;const s=((b=r[21])==null?void 0:b[r[20]])??"";r[23]=s;const n=r[17]&&r[20]===r[21].length;r[24]=n;const u=r[22]==="x";r[25]=u;const g=r[22]==="c";r[26]=g;const h=r[22]==="_";return r[27]=h,r}function rt(a){let e;return{c(){e=N("empty")},l(t){e=D(t,"empty")},m(t,r){A(t,e,r)},d(t){t&&p(e)}}}function nt(a){let e;return{c(){e=N("(absent)")},l(t){e=D(t,"(absent)")},m(t,r){A(t,e,r)},d(t){t&&p(e)}}}function st(a){let e;return{c(){e=N("(present)")},l(t){e=D(t,"(present)")},m(t,r){A(t,e,r)},d(t){t&&p(e)}}}function lt(a){let e;return{c(){e=N("(correct)")},l(t){e=D(t,"(correct)")},m(t,r){A(t,e,r)},d(t){t&&p(e)}}}function ye(a,e){let t,r=e[23]+"",l,i,s,n,u,g,h;function _(c,o){return c[25]?lt:c[26]?st:c[27]?nt:rt}let b=_(e),f=b(e);return{key:a,first:null,c(){t=C("div"),l=N(r),i=z(),s=C("span"),f.c(),n=z(),u=C("input"),this.h()},l(c){t=T(c,"DIV",{class:!0});var o=H(t);l=D(o,r),i=L(o),s=T(o,"SPAN",{class:!0});var m=H(s);f.l(m),m.forEach(p),n=L(o),u=T(o,"INPUT",{name:!0,type:!0}),o.forEach(p),this.h()},h(){y(s,"class","visually-hidden"),y(u,"name","guess"),u.disabled=g=!e[17],y(u,"type","hidden"),u.value=h=e[23],y(t,"class","letter svelte-1cs6k8m"),G(t,"exact",e[25]),G(t,"close",e[26]),G(t,"missing",e[27]),G(t,"selected",e[24]),this.first=t},m(c,o){A(c,t,o),k(t,l),k(t,i),k(t,s),f.m(s,null),k(t,n),k(t,u)},p(c,o){e=c,o&26&&r!==(r=e[23]+"")&&te(l,r),b!==(b=_(e))&&(f.d(1),f=b(e),f&&(f.c(),f.m(s,null))),o&16&&g!==(g=!e[17])&&(u.disabled=g),o&26&&h!==(h=e[23])&&(u.value=h),o&2&&G(t,"exact",e[25]),o&2&&G(t,"close",e[26]),o&2&&G(t,"missing",e[27]),o&26&&G(t,"selected",e[24])},d(c){c&&p(t),f.d()}}}function ge(a,e){let t,r,l=e[11]+1+"",i,s,n,u=[],g=new Map,h,_=I(Array.from(Array(5).keys()));const b=f=>f[20];for(let f=0;f<_.length;f+=1){let c=be(e,_,f),o=b(c);g.set(o,u[f]=ye(o,c))}return{key:a,first:null,c(){t=C("h2"),r=N("Row "),i=N(l),s=z(),n=C("div");for(let f=0;f<u.length;f+=1)u[f].c();h=z(),this.h()},l(f){t=T(f,"H2",{class:!0});var c=H(t);r=D(c,"Row "),i=D(c,l),c.forEach(p),s=L(f),n=T(f,"DIV",{class:!0});var o=H(n);for(let m=0;m<u.length;m+=1)u[m].l(o);h=L(o),o.forEach(p),this.h()},h(){y(t,"class","visually-hidden"),y(n,"class","row svelte-1cs6k8m"),G(n,"current",e[17]),this.first=t},m(f,c){A(f,t,c),k(t,r),k(t,i),A(f,s,c),A(f,n,c);for(let o=0;o<u.length;o+=1)u[o]&&u[o].m(n,null);k(n,h)},p(f,c){e=f,c&26&&(_=I(Array.from(Array(5).keys())),u=Te(u,c,b,1,e,_,g,n,We,ye,h,be)),c&16&&G(n,"current",e[17])},d(f){f&&(p(t),p(s),p(n));for(let c=0;c<u.length;c+=1)u[c].d()}}}function ot(a){let e,t,r,l,i,s,n="back",u,g,h,_=I(["qwertyuiop","asdfghjkl","zxcvbnm"]),b=[];for(let f=0;f<3;f+=1)b[f]=ke(me(a,_,f));return{c(){e=C("div"),t=C("button"),r=N("enter"),i=z(),s=C("button"),s.textContent=n,u=z();for(let f=0;f<3;f+=1)b[f].c();this.h()},l(f){e=T(f,"DIV",{class:!0});var c=H(e);t=T(c,"BUTTON",{"data-key":!0,class:!0});var o=H(t);r=D(o,"enter"),o.forEach(p),i=L(c),s=T(c,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0,"data-svelte-h":!0}),Q(s)!=="svelte-13xkypz"&&(s.textContent=n),u=L(c);for(let m=0;m<3;m+=1)b[m].l(c);c.forEach(p),this.h()},h(){y(t,"data-key","enter"),t.disabled=l=!a[7],y(t,"class","svelte-1cs6k8m"),G(t,"selected",a[7]),y(s,"data-key","backspace"),y(s,"formaction","?/update"),y(s,"name","key"),s.value="backspace",y(s,"class","svelte-1cs6k8m"),y(e,"class","keyboard svelte-1cs6k8m")},m(f,c){A(f,e,c),k(e,t),k(t,r),k(e,i),k(e,s),k(e,u);for(let o=0;o<3;o+=1)b[o]&&b[o].m(e,null);g||(h=ee(s,"click",Se(a[9])),g=!0)},p(f,c){if(c&128&&l!==(l=!f[7])&&(t.disabled=l),c&128&&G(t,"selected",f[7]),c&708){_=I(["qwertyuiop","asdfghjkl","zxcvbnm"]);let o;for(o=0;o<3;o+=1){const m=me(f,_,o);b[o]?b[o].p(m,c):(b[o]=ke(m),b[o].c(),b[o].m(e,null))}for(;o<3;o+=1)b[o].d(1)}},d(f){f&&p(e),Ce(b,f),g=!1,h()}}}function it(a){let e,t,r=a[5]?"you won :)":"game over :(",l,i,s=!a[5]&&a[1].answer&&we(a);return{c(){s&&s.c(),e=z(),t=C("button"),l=N(r),i=N(" play again?"),this.h()},l(n){s&&s.l(n),e=L(n),t=T(n,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var u=H(t);l=D(u,r),i=D(u," play again?"),u.forEach(p),this.h()},h(){y(t,"data-key","enter"),y(t,"class","restart selected svelte-1cs6k8m"),y(t,"formaction","?/restart")},m(n,u){s&&s.m(n,u),A(n,e,u),A(n,t,u),k(t,l),k(t,i)},p(n,u){!n[5]&&n[1].answer?s?s.p(n,u):(s=we(n),s.c(),s.m(e.parentNode,e)):s&&(s.d(1),s=null),u&32&&r!==(r=n[5]?"you won :)":"game over :(")&&te(l,r)},d(n){n&&(p(e),p(t)),s&&s.d(n)}}}function ve(a){let e,t,r,l,i,s;return{c(){e=C("button"),t=N(a[14]),this.h()},l(n){e=T(n,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var u=H(e);t=D(u,a[14]),u.forEach(p),this.h()},h(){y(e,"data-key",a[14]),y(e,"class",r=se(a[2][a[14]])+" svelte-1cs6k8m"),e.disabled=a[7],y(e,"formaction","?/update"),y(e,"name","key"),e.value=a[14],y(e,"aria-label",l=a[14]+" "+(a[6][a[14]]||""))},m(n,u){A(n,e,u),k(e,t),i||(s=ee(e,"click",Se(a[9])),i=!0)},p(n,u){u&4&&r!==(r=se(n[2][n[14]])+" svelte-1cs6k8m")&&y(e,"class",r),u&128&&(e.disabled=n[7]),u&64&&l!==(l=n[14]+" "+(n[6][n[14]]||""))&&y(e,"aria-label",l)},d(n){n&&p(e),i=!1,s()}}}function ke(a){let e,t,r=I(a[11]),l=[];for(let i=0;i<r.length;i+=1)l[i]=ve(_e(a,r,i));return{c(){e=C("div");for(let i=0;i<l.length;i+=1)l[i].c();t=z(),this.h()},l(i){e=T(i,"DIV",{class:!0});var s=H(e);for(let n=0;n<l.length;n+=1)l[n].l(s);t=L(s),s.forEach(p),this.h()},h(){y(e,"class","row svelte-1cs6k8m")},m(i,s){A(i,e,s);for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,null);k(e,t)},p(i,s){if(s&708){r=I(i[11]);let n;for(n=0;n<r.length;n+=1){const u=_e(i,r,n);l[n]?l[n].p(u,s):(l[n]=ve(u),l[n].c(),l[n].m(e,t))}for(;n<l.length;n+=1)l[n].d(1);l.length=r.length}},d(i){i&&p(e),Ce(l,i)}}}function we(a){let e,t,r=a[1].answer+"",l,i;return{c(){e=C("p"),t=N('the answer was "'),l=N(r),i=N('"')},l(s){e=T(s,"P",{});var n=H(e);t=D(n,'the answer was "'),l=D(n,r),i=D(n,'"'),n.forEach(p)},m(s,n){A(s,e,n),k(e,t),k(e,l),k(e,i)},p(s,n){n&2&&r!==(r=s[1].answer+"")&&te(l,r)},d(s){s&&p(e)}}}function Ee(a){let e,t,r,l;return{c(){e=C("div"),this.h()},l(i){e=T(i,"DIV",{style:!0}),H(e).forEach(p),this.h()},h(){R(e,"position","absolute"),R(e,"left","50%"),R(e,"top","30%")},m(i,s){A(i,e,s),r||(l=Ae(t=Be.call(null,e,{particleCount:a[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),r=!0)},p(i,s){t&&Pe(t.update)&&s&256&&t.update.call(null,{particleCount:i[8]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(i){i&&p(e),r=!1,l()}}}function ct(a){let e,t,r,l="Sverdle",i,s,n,u="How to play",g,h,_=[],b=new Map,f,c,o,m,S,v,E=I(Array.from(Array(6).keys()));const X=d=>d[11];for(let d=0;d<E.length;d+=1){let w=pe(a,E,d),W=X(w);b.set(W,_[d]=ge(W,w))}function B(d,w){return d[5]||d[1].answers.length>=6?it:ot}let F=B(a),P=F(a),M=a[5]&&Ee(a);return{c(){e=C("meta"),t=z(),r=C("h1"),r.textContent=l,i=z(),s=C("form"),n=C("a"),n.textContent=u,g=z(),h=C("div");for(let d=0;d<_.length;d+=1)_[d].c();f=z(),c=C("div"),P.c(),o=z(),M&&M.c(),m=le(),this.h()},l(d){const w=Oe("svelte-1sgzpsg",K.head);e=T(w,"META",{name:!0,content:!0}),w.forEach(p),t=L(d),r=T(d,"H1",{class:!0,"data-svelte-h":!0}),Q(r)!=="svelte-16hvqlg"&&(r.textContent=l),i=L(d),s=T(d,"FORM",{method:!0,action:!0,class:!0});var W=H(s);n=T(W,"A",{class:!0,href:!0,"data-svelte-h":!0}),Q(n)!=="svelte-1w3fhu3"&&(n.textContent=u),g=L(W),h=T(W,"DIV",{class:!0});var ae=H(h);for(let x=0;x<_.length;x+=1)_[x].l(ae);ae.forEach(p),f=L(W),c=T(W,"DIV",{class:!0});var re=H(c);P.l(re),re.forEach(p),W.forEach(p),o=L(d),M&&M.l(d),m=le(),this.h()},h(){var d;K.title="Sverdle",y(e,"name","description"),y(e,"content","A Wordle clone written in SvelteKit"),y(r,"class","visually-hidden"),y(n,"class","how-to-play svelte-1cs6k8m"),y(n,"href","/sverdle/how-to-play"),y(h,"class","grid svelte-1cs6k8m"),G(h,"playing",!a[5]),G(h,"bad-guess",(d=a[0])==null?void 0:d.badGuess),y(c,"class","controls svelte-1cs6k8m"),y(s,"method","POST"),y(s,"action","?/enter"),y(s,"class","svelte-1cs6k8m")},m(d,w){k(K.head,e),A(d,t,w),A(d,r,w),A(d,i,w),A(d,s,w),k(s,n),k(s,g),k(s,h);for(let W=0;W<_.length;W+=1)_[W]&&_[W].m(h,null);k(s,f),k(s,c),P.m(c,null),A(d,o,w),M&&M.m(d,w),A(d,m,w),S||(v=[ee(at,"keydown",a[10]),Ae($e.call(null,s,ut))],S=!0)},p(d,[w]){var W;w&26&&(E=I(Array.from(Array(6).keys())),_=Te(_,w,X,1,d,E,b,h,We,ge,null,pe)),w&32&&G(h,"playing",!d[5]),w&1&&G(h,"bad-guess",(W=d[0])==null?void 0:W.badGuess),F===(F=B(d))&&P?P.p(d,w):(P.d(1),P=F(d),P&&(P.c(),P.m(c,null))),d[5]?M?M.p(d,w):(M=Ee(d),M.c(),M.m(m.parentNode,m)):M&&(M.d(1),M=null)},i:ne,o:ne,d(d){d&&(p(t),p(r),p(i),p(s),p(o),p(m)),p(e);for(let w=0;w<_.length;w+=1)_[w].d();P.d(),M&&M.d(d),S=!1,Ne(v)}}}const ut=()=>({update:a})=>{a({reset:!1})};function ft(a,e,t){let r,l,i,s,n;De(a,tt,c=>t(8,n=c));let{data:u}=e,{form:g}=e,h,_;function b(c){const o=c.target.getAttribute("data-key");o==="backspace"?(t(3,i=i.slice(0,-1)),g!=null&&g.badGuess&&t(0,g.badGuess=!1,g)):i.length<5&&t(3,i+=o)}function f(c){var o;c.metaKey||c.key==="Enter"&&!s||(o=document.querySelector(`[data-key="${c.key}" i]`))==null||o.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}return a.$$set=c=>{"data"in c&&t(1,u=c.data),"form"in c&&t(0,g=c.form)},a.$$.update=()=>{a.$$.dirty&2&&t(5,r=u.answers.at(-1)==="xxxxx"),a.$$.dirty&34&&t(4,l=r?-1:u.answers.length),a.$$.dirty&18&&t(3,i=u.guesses[l]||""),a.$$.dirty&8&&t(7,s=i.length===5),a.$$.dirty&6&&(t(2,h={}),t(6,_={}),u.answers.forEach((c,o)=>{const m=u.guesses[o];for(let S=0;S<5;S+=1){const v=m[S];c[S]==="x"?(t(2,h[v]="exact",h),t(6,_[v]="correct",_)):h[v]||(t(2,h[v]=c[S]==="c"?"close":"missing",h),t(6,_[v]=c[S]==="c"?"present":"absent",_))}}))},[g,u,h,i,l,r,_,s,n,b,f]}class bt extends ze{constructor(e){super(),Le(this,e,ft,ct,He,{data:1,form:0})}}export{bt as component};
