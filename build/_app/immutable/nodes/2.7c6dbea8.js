import{f as Ot,s as mt,h as kt,n as it,r as vt,c as pt}from"../chunks/scheduler.659ee57f.js";import{S as yt,i as ht,g as z,s as se,m as Be,h as X,j as Te,f as K,c as ie,y as De,n as qe,k as ve,a as ke,A as P,B as Ke,o as tt,C as Tt,r as Dt,D as Ct,u as Ft,v as Nt,d as Pt,t as xt,w as Lt}from"../chunks/index.0592b8d4.js";import{e as ot}from"../chunks/each.3874fca9.js";import{w as It}from"../chunks/singletons.565e189b.js";import{p as Ut}from"../chunks/stores.71f6097a.js";const Rt=!0,wr=Object.freeze(Object.defineProperty({__proto__:null,prerender:Rt},Symbol.toStringTag,{value:"Module"}));function Wt(e,...t){const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function be(e){let t;return Wt(e,n=>t=n)(),t}class jt extends Error{constructor(t,n){super(t),this.name="FelteSubmitError",this.response=n}}function Mt(e,t){return Object.keys(e).some(r=>t(e[r]))}function Ze(e,t){return Object.keys(e||{}).reduce((r,s)=>Object.assign(Object.assign({},r),{[s]:t(e[s])}),{})}function C(e){return Object.prototype.toString.call(e)==="[object Object]"}function te(e){return Object.keys(e||{}).reduce((t,n)=>Object.assign(Object.assign({},t),{[n]:C(e[n])?te(e[n]):Array.isArray(e[n])?[...e[n]]:e[n]}),{})}function Ht(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function $t(e){return function(t){if(C(t)){const n=re(t,e);return Ht(n,["key"])}return e}}function re(e,t){return Ze(e,n=>C(n)?re(n,t):Array.isArray(n)?n.map($t(t)):t)}function Ce(...e){const t=e.pop(),n=e.shift();if(typeof n=="string")return n;const r=te(n);if(e.length===0)return r;for(const s of e){if(!s)continue;if(typeof s=="string")return s;let i=t(r,s);if(typeof i<"u")return i;const a=Array.from(new Set(Object.keys(r).concat(Object.keys(s))));for(const o of a)if(i=t(r[o],s[o]),typeof i<"u")r[o]=i;else if(C(s[o])&&C(r[o]))r[o]=Ce(r[o],s[o],t);else if(Array.isArray(s[o]))r[o]=s[o].map((m,v)=>{if(!C(m))return m;const h=Array.isArray(r[o])?r[o][v]:r[o];return Ce(h,m,t)});else if(C(s[o])){const m=re(te(s[o]),void 0);r[o]=Ce(m,s[o],t)}else typeof s[o]<"u"&&(r[o]=s[o])}return r}function Bt(e,t){if(!(C(e)&&C(t))){if(Array.isArray(t)){if(t.some(C))return;const n=Array.isArray(e)?e:[];return t.map((r,s)=>{var i;return(i=n[s])!==null&&i!==void 0?i:r})}if(typeof e<"u")return e}}function at(...e){return Ce(...e,Bt)}function bt(...e){return Ce(...e,()=>{})}function _e(e,t,n){const r=i=>String.prototype.split.call(t,i).filter(Boolean).reduce((a,o)=>a!=null?a[o]:a,e),s=r(/[,[\]]+?/)||r(/[,[\].]+?/);return s===void 0||s===e?n:s}function Ge(e,t,n){e&&(e=te(e)),C(e)||(e={});const r=Array.isArray(t)?t:t.match(/[^.[\]]+/g)||[],s=r[r.length-1];if(!s)return e;let i=e;for(let a=0;a<r.length-1;a++){const o=r[a];if(!i[o]||!C(i[o])&&!Array.isArray(i[o])){const m=r[a+1];isNaN(Number(m))?i[o]={}:i[o]=[]}i=i[o]}return i[s]=n(i[s]),e}function I(e,t,n){return Ge(e,t,()=>n)}function ze(e,t){if(!e||Object(e)!==e)return;typeof e<"u"&&(e=te(e));const n=Array.isArray(t)?t:t.toString().match(/[^.[\]]+/g)||[],r=n.length===1?e:_e(e,n.slice(0,-1).join("."));return Array.isArray(r)?r.splice(Number(n[n.length-1]),1):r==null||delete r[n[n.length-1]],e}function Xe(e,t){return Mt(e,n=>C(n)?Xe(n,t):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?t(n):n.some(r=>C(r)?Xe(r,t):t(r)):t(n))}function We(e){return(e==null?void 0:e.nodeName)==="INPUT"}function qt(e){return(e==null?void 0:e.nodeName)==="TEXTAREA"}function je(e){return(e==null?void 0:e.nodeName)==="SELECT"}function Ve(e){return(e==null?void 0:e.nodeName)==="FIELDSET"}function J(e){return We(e)||qt(e)||je(e)}function ut(e){return e.nodeType===Node.ELEMENT_NODE}function G(e,t){return t??(J(e)?e.name:"")}function et(e){let t=e;for(;t&&t.nodeName!=="FORM";){if(t.hasAttribute("data-felte-ignore"))return!0;t=t.parentElement}return!1}function Kt(e,t){if(!(C(e)||C(t))){if(e===null||e==="")return t;if(t===null||t===""||!t)return e;if(!(!e||!t)){if(Array.isArray(e)){if(!Array.isArray(t))return[...e,t];const n=[],r=Math.max(t.length,e.length);for(let s=0;s<r;s++){let i=e[s],a=t[s];!C(i)&&!C(a)?(Array.isArray(i)||(i=[i]),Array.isArray(a)||(a=[a]),n.push(...i,...a)):n.push(Re([i??{},a??{}]))}return n.filter(Boolean)}return Array.isArray(t)||(t=[t]),[e,...t].reduce((n,r)=>n.concat(r),[]).filter(Boolean)}}}function Re(e){return Ce(...e,Kt)}function zt(e,t){return t?(Array.isArray(t)?t:[t]).map(r=>r(e)):[]}function rt(e,t){return t?Array.isArray(t)?t.reduce((n,r)=>r(n),e):t(e):e}function At(e=8){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let n="";for(let r=0;r<e;r++)n+=t.charAt(Math.floor(Math.random()*t.length));return n}function Ye(e,t,{onInit:n,onEnd:r}={}){let s;return(...i)=>{s||n==null||n(),s&&clearTimeout(s),s=setTimeout(()=>{e.apply(this,i),s=void 0,r==null||r()},t)}}function nt(e){if(J(e))return[e];if(e.childElementCount===0)return[];const t=new Set;for(const n of e.children){if(J(n)&&t.add(n),Ve(n))for(const r of n.elements)J(r)&&t.add(r);n.childElementCount>0&&nt(n).forEach(r=>t.add(r))}return Array.from(t)}function _t(e){for(const t of e.elements)!J(t)&&!Ve(t)||e.hasAttribute("data-felte-keep-on-remove")&&!t.hasAttribute("data-felte-keep-on-remove")&&(t.dataset.felteKeepOnRemove=e.dataset.felteKeepOnRemove)}function Et(e){return e.type.match(/^(number|range)$/)?e.value?+e.value:null:e.value}function lt(e){var t;let n={},r={};for(const s of e.elements){if(Ve(s)&&_t(s),!J(s)||!s.name)continue;const i=G(s);if(We(s)){if(s.type==="checkbox"){if(typeof _e(n,i)>"u"){if(Array.from(e.querySelectorAll(`[name="${s.name}"]`)).filter(m=>J(m)?i===G(m):!1).length===1){n=I(n,i,s.checked),r=I(r,i,!1);continue}n=I(n,i,s.checked?[s.value]:[]),r=I(r,i,!1);continue}Array.isArray(_e(n,i))&&s.checked&&(n=Ge(n,i,o=>[...o,s.value]));continue}if(s.type==="radio"){if(_e(n,i))continue;n=I(n,i,s.checked?s.value:void 0),r=I(r,i,!1);continue}if(s.type==="file"){n=I(n,i,s.multiple?Array.from(s.files||[]):(t=s.files)===null||t===void 0?void 0:t[0]),r=I(r,i,!1);continue}}else if(je(s)){if(!s.multiple)n=I(n,i,s.value);else{const m=Array.from(s.selectedOptions).map(v=>v.value);n=I(n,i,m)}r=I(r,i,!1);continue}const a=Et(s);n=I(n,i,a),r=I(r,i,!1)}return{defaultData:n,defaultTouched:r}}function Xt(e,t){var n;if(!J(e))return;const r=t;if(We(e)){if(e.type==="checkbox"){const s=r;if(typeof s>"u"||typeof s=="boolean"){e.checked=!!s;return}Array.isArray(s)&&(s.includes(e.value)?e.checked=!0:e.checked=!1);return}if(e.type==="radio"){const s=r;e.value===s?e.checked=!0:e.checked=!1;return}if(e.type==="file"){if(t instanceof FileList)e.files=t;else if(t instanceof File&&typeof DataTransfer<"u"){const s=new DataTransfer;s.items.add(t),e.files=s.files}else if(typeof DataTransfer<"u"&&Array.isArray(t)&&t.some(s=>s instanceof File)){const s=new DataTransfer;for(const i of t)i instanceof File&&s.items.add(i);e.files=s.files}else(!t||Array.isArray(t)&&!t.length)&&(e.files=null,e.value="");return}}else if(je(e)){if(e.multiple){if(Array.isArray(r)){e.value=String((n=r[0])!==null&&n!==void 0?n:"");const i=r.map(a=>String(a));for(const a of e.options)i.includes(a.value)?a.selected=!0:a.selected=!1}}else{e.value=String(r??"");for(const i of e.options)i.value===String(r)?i.selected=!0:i.selected=!1}return}e.value=String(r??"")}function Je(e,t){for(const n of e.elements){if(Ve(n)&&_t(n),!J(n)||!n.name)continue;const r=G(n);Xt(n,_e(t,r))}}function wt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Ae(e,t){return Ze(e,n=>C(n)?Ae(n,t):Array.isArray(n)?n.length===0||n.every(r=>typeof r=="string")?t:n.map(r=>{const s=Ae(r,t);return wt(s,["key"])}):t)}function Ue(e){return e?Ze(e,t=>C(t)?Ue(t):Array.isArray(t)?t.length===0||t.every(n=>typeof n=="string")?t:t.map(n=>{if(!C(n))return n;const r=Ue(n);return r.key||(r.key=At()),r}):t):{}}function Ie(e){return e?Ze(e,t=>C(t)?Ie(t):Array.isArray(t)?t.length===0||t.every(n=>typeof n=="string")?t:t.map(n=>{if(!C(n))return n;const r=Ie(n);return wt(r,["key"])}):t):{}}function Gt(){class e extends CustomEvent{constructor(s){super("feltesuccess",{detail:s})}}class t extends CustomEvent{constructor(s){super("felteerror",{detail:s,cancelable:!0})}setErrors(s){this.preventDefault(),this.errors=s}}class n extends Event{constructor(){super("feltesubmit",{cancelable:!0})}handleSubmit(s){this.onSubmit=s}handleError(s){this.onError=s}handleSuccess(s){this.onSuccess=s}}return{createErrorEvent:r=>new t(r),createSubmitEvent:()=>new n,createSuccessEvent:r=>new e(r)}}function Jt(e){if(e)return async function(){let n=new FormData(e);const r=new URL(e.action),s=e.method.toLowerCase()==="get"?"get":r.searchParams.get("_method")||e.method;let i=e.enctype;e.querySelector('input[type="file"]')&&(i="multipart/form-data"),(s==="get"||i==="application/x-www-form-urlencoded")&&(n=new URLSearchParams(n));let a;s==="get"?(n.forEach((m,v)=>{r.searchParams.append(v,m)}),a={method:s,headers:{Accept:"application/json"}}):a={method:s,body:n,headers:Object.assign(Object.assign({},i!=="multipart/form-data"&&{"Content-Type":i}),{Accept:"application/json"})};const o=await window.fetch(r.toString(),a);if(o.ok)return o;throw new jt("An error occurred while submitting the form",o)}}function Qe(e,t,n,r){return Ge(e,t,s=>(typeof s<"u"&&!Array.isArray(s)||(s||(s=[]),typeof r>"u"?s.push(n):s.splice(r,0,n)),s))}function Qt(e,t,n,r){return Ge(e,t,s=>(!s||!Array.isArray(s)||([s[n],s[r]]=[s[r],s[n]]),s))}function Yt(e,t,n,r){return Ge(e,t,s=>(!s||!Array.isArray(s)||s.splice(r,0,s.splice(n,1)[0]),s))}function ct(e){return typeof e=="function"}function Oe(e){return(n,r)=>{if(typeof n=="string"){const s=n;e(i=>{const a=ct(r)?r(_e(i,s)):r;return I(i,s,a)})}else e(s=>ct(n)?n(s):n)}}function Zt({stores:e,config:t,validateErrors:n,validateWarnings:r,_getCurrentExtenders:s}){var i;let a,o=Ue((i=t.initialValues)!==null&&i!==void 0?i:{});const{data:m,touched:v,errors:h,warnings:O,isDirty:w,isSubmitting:b,interacted:T}=e,D=Oe(m.update),A=Oe(v.update),g=Oe(h.update),_=Oe(O.update);function d(c){D(k=>{const S=c(k);return a&&Je(a,S),S})}const l=(c,k,S)=>{Oe(d)(c,k),typeof c=="string"&&S&&A(c,!0)};function N(c,k,S){const M=C(k)?Ae(k,!1):!1,$=C(M)?re(M,[]):[];k=C(k)?Object.assign(Object.assign({},k),{key:At()}):k,h.update(H=>Qe(H,c,$,S)),O.update(H=>Qe(H,c,$,S)),v.update(H=>Qe(H,c,M,S)),m.update(H=>{const oe=Qe(H,c,k,S);return setTimeout(()=>a&&Je(a,oe)),oe})}function p(c){h.update(c),O.update(c),v.update(c),m.update(k=>{const S=c(k);return setTimeout(()=>a&&Je(a,S)),S})}function R(c){p(k=>ze(k,c))}function Q(c,k,S){p(M=>Qt(M,c,k,S))}function W(c,k,S){p(M=>Yt(M,c,k,S))}function L(c){const k=_e(o,c),S=C(k)?Ae(k,!1):!1,M=C(S)?re(S,[]):[];m.update($=>{const H=I($,c,k);return a&&Je(a,H),H}),v.update($=>I($,c,S)),h.update($=>I($,c,M)),O.update($=>I($,c,M))}const F=Oe(b.update),Z=Oe(w.update),le=Oe(T.update);async function pe(){const c=be(m);v.set(Ae(c,!0)),T.set(null);const k=await n(c);return await r(c),k}function ye(){l(te(o)),A(c=>re(c,!1)),T.set(null),w.set(!1)}function j(c){return async function(S){var M,$,H,oe,he,Fe,Ne;const{createErrorEvent:Me,createSubmitEvent:He,createSuccessEvent:Pe}=Gt(),de=He();a==null||a.dispatchEvent(de);const f=($=(M=de.onError)!==null&&M!==void 0?M:c==null?void 0:c.onError)!==null&&$!==void 0?$:t.onError,u=(oe=(H=de.onSuccess)!==null&&H!==void 0?H:c==null?void 0:c.onSuccess)!==null&&oe!==void 0?oe:t.onSuccess,y=(Ne=(Fe=(he=de.onSubmit)!==null&&he!==void 0?he:c==null?void 0:c.onSubmit)!==null&&Fe!==void 0?Fe:t.onSubmit)!==null&&Ne!==void 0?Ne:Jt(a);if(!y||(S==null||S.preventDefault(),de.defaultPrevented))return;b.set(!0),T.set(null);const E=Ie(be(m)),V=await n(E,c==null?void 0:c.validate),we=await r(E,c==null?void 0:c.warn);if(we&&O.set(bt(re(E,[]),we)),v.set(Ae(E,!0)),V&&(v.set(Ae(V,!0)),Xe(V,q=>Array.isArray(q)?q.length>=1:!!q))){await new Promise(q=>setTimeout(q)),s().forEach(q=>{var ae;return(ae=q.onSubmitError)===null||ae===void 0?void 0:ae.call(q,{data:E,errors:V})}),b.set(!1);return}const fe={event:S,setFields:l,setData:D,setTouched:A,setErrors:g,setWarnings:_,unsetField:R,addField:N,resetField:L,reset:ye,setInitialValues:ce.setInitialValues,moveField:W,swapFields:Q,form:a,controls:a&&Array.from(a.elements).filter(J),config:Object.assign(Object.assign({},t),c)};try{const B=await y(E,fe);a==null||a.dispatchEvent(Pe(Object.assign({response:B},fe))),await(u==null?void 0:u(B,fe))}catch(B){const q=Me(Object.assign({error:B},fe));if(a==null||a.dispatchEvent(q),!f&&!q.defaultPrevented)throw B;if(!f&&!q.errors)return;const ae=q.errors||await(f==null?void 0:f(B,fe));ae&&(v.set(Ae(ae,!0)),h.set(ae),await new Promise(me=>setTimeout(me)),s().forEach(me=>{var ge;return(ge=me.onSubmitError)===null||ge===void 0?void 0:ge.call(me,{data:E,errors:be(h)})}))}finally{b.set(!1)}}}const ce={setData:D,setFields:l,setTouched:A,setErrors:g,setWarnings:_,setIsSubmitting:F,setIsDirty:Z,setInteracted:le,validate:pe,reset:ye,unsetField:R,resetField:L,addField:N,swapFields:Q,moveField:W,createSubmitHandler:j,handleSubmit:j(),setInitialValues:c=>{o=Ue(c)}};return{public:ce,private:{_setFormNode(c){a=c},_getInitialValues:()=>o}}}function Vt({helpers:e,stores:t,config:n,extender:r,createSubmitHandler:s,handleSubmit:i,_setFormNode:a,_getInitialValues:o,_setCurrentExtenders:m,_getCurrentExtenders:v}){const{setFields:h,setTouched:O,reset:w,setInitialValues:b}=e,{addValidator:T,addTransformer:D,validate:A}=e,{data:g,errors:_,warnings:d,touched:l,isSubmitting:N,isDirty:p,interacted:R,isValid:Q,isValidating:W}=t;function L(F){F.requestSubmit||(F.requestSubmit=i);function Z(f){return function(u){return u({form:F,stage:f,controls:Array.from(F.elements).filter(J),data:g,errors:_,warnings:d,touched:l,isValid:Q,isValidating:W,isSubmitting:N,isDirty:p,interacted:R,config:n,addValidator:T,addTransformer:D,setFields:h,validate:A,reset:w,createSubmitHandler:s,handleSubmit:i})}}m(r.map(Z("MOUNT"))),F.noValidate=!!n.validate;const{defaultData:le,defaultTouched:pe}=lt(F);a(F),b(bt(te(le),o())),h(o()),l.set(pe);function ye(f){const u=G(f),y=Array.from(F.querySelectorAll(`[name="${f.name}"]`)).filter(E=>J(E)?u===G(E):!1);if(y.length!==0)return y.length===1?g.update(E=>I(E,G(f),f.checked)):g.update(E=>I(E,G(f),y.filter(We).filter(V=>V.checked).map(V=>V.value)))}function j(f){const u=F.querySelectorAll(`[name="${f.name}"]`),y=Array.from(u).find(E=>We(E)&&E.checked);g.update(E=>I(E,G(f),y==null?void 0:y.value))}function ce(f){var u;const y=Array.from((u=f.files)!==null&&u!==void 0?u:[]);g.update(E=>I(E,G(f),f.multiple?y:y[0]))}function Ee(f){if(!f.multiple)g.update(u=>I(u,G(f),f.value));else{const u=Array.from(f.selectedOptions).map(y=>y.value);g.update(y=>I(y,G(f),u))}}function c(f){const u=f.target;if(!u||!J(u)||je(u)||et(u)||["checkbox","radio","file"].includes(u.type)||!u.name)return;p.set(!0);const y=Et(u);R.set(u.name),g.update(E=>I(E,G(u),y))}function k(f){const u=f.target;if(!(!u||!J(u)||et(u))&&u.name)if(O(G(u),!0),R.set(u.name),(je(u)||["checkbox","radio","file","hidden"].includes(u.type))&&p.set(!0),u.type==="hidden"&&g.update(y=>I(y,G(u),u.value)),je(u))Ee(u);else if(We(u))u.type==="checkbox"?ye(u):u.type==="radio"?j(u):u.type==="file"&&ce(u);else return}function S(f){const u=f.target;!u||!J(u)||et(u)||u.name&&(O(G(u),!0),R.set(u.name))}function M(f){f.preventDefault(),w()}const $={childList:!0,subtree:!0};function H(f){let u=be(g),y=be(l),E=be(_),V=be(d);for(const we of f.reverse()){if(we.hasAttribute("data-felte-keep-on-remove")&&we.dataset.felteKeepOnRemove!=="false")continue;const fe=/.*(\[[0-9]+\]|\.[0-9]+)\.[^.]+$/;let B=G(we);const q=be(l);if(fe.test(B)){const me=B.split(".").slice(0,-1).join("."),ge=_e(q,me);C(ge)&&Object.keys(ge).length<=1&&(B=me)}u=ze(u,B),y=ze(y,B),E=ze(E,B),V=ze(V,B)}g.set(u),l.set(y),_.set(E),d.set(V)}const oe=Ye(()=>{v().forEach(y=>{var E;return(E=y.destroy)===null||E===void 0?void 0:E.call(y)}),m(r.map(Z("UPDATE")));const{defaultData:f,defaultTouched:u}=lt(F);g.update(y=>at(y,f)),l.update(y=>at(y,u)),e.setFields(be(g))},0);let he=[];const Fe=Ye(()=>{v().forEach(f=>{var u;return(u=f.destroy)===null||u===void 0?void 0:u.call(f)}),m(r.map(Z("UPDATE"))),H(he),he=[]},0);function Ne(f){Array.from(f.addedNodes).some(y=>ut(y)?J(y)?!0:nt(y).length>0:!1)&&oe()}function Me(f){for(const u of f.removedNodes){if(!ut(u))continue;const y=nt(u);y.length!==0&&(he.push(...y),Fe())}}function He(f){for(const u of f)u.type==="childList"&&(u.addedNodes.length>0&&Ne(u),u.removedNodes.length>0&&Me(u))}const Pe=new MutationObserver(He);Pe.observe(F,$),F.addEventListener("input",c),F.addEventListener("change",k),F.addEventListener("focusout",S),F.addEventListener("submit",i),F.addEventListener("reset",M);const de=_.subscribe(f=>{for(const u of F.elements){if(!J(u)||!u.name)continue;const y=_e(f,G(u)),E=Array.isArray(y)?y.join(`
`):typeof y=="string"?y:void 0;E!==u.dataset.felteValidationMessage&&(E?(u.dataset.felteValidationMessage=E,u.setAttribute("aria-invalid","true")):(delete u.dataset.felteValidationMessage,u.removeAttribute("aria-invalid")))}});return{destroy(){Pe.disconnect(),F.removeEventListener("input",c),F.removeEventListener("change",k),F.removeEventListener("focusout",S),F.removeEventListener("submit",i),F.removeEventListener("reset",M),de(),v().forEach(f=>{var u;return(u=f.destroy)===null||u===void 0?void 0:u.call(f)})}}}return{form:L}}function er(e){const t={aborted:!1,priority:e};return{signal:t,abort(){t.aborted=!0}}}function tr(e,t){if(C(e))return!t||C(t)&&Object.keys(t).length===0?re(e,null):void 0;if(Array.isArray(e)){if(e.some(C))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:r&&i||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?e?t:null:e&&t?[t]:null}function rr(e,t){if(C(e))return!t||C(t)&&Object.keys(t).length===0?re(e,null):void 0;if(Array.isArray(e)){if(e.some(C))return;const n=Array.isArray(t)?t:[];return e.map((r,s)=>{const i=n[s];return Array.isArray(i)&&i.length===0?null:i||null})}return Array.isArray(t)&&t.length===0?null:Array.isArray(t)?t:t?[t]:null}function nr([e,t]){return Ce(t,e,tr)}function sr([e,t]){return Ce(t,e,rr)}function ir(e){return function(n,r,s){const i=Array.isArray(n)?n:[n],a=new Array(i.length),o=e(s),m=o.set,v=o.subscribe;let h;function O(){h=i.map((b,T)=>b.subscribe(D=>{a[T]=D,m(r(a))}))}function w(){h==null||h.forEach(b=>b())}return o.subscribe=function(T){const D=v(T);return()=>{D()}},[o,O,w]}}function or(e,t){var n,r,s,i,a,o,m,v,h;const O=ir(e),w=t.initialValues=t.initialValues?Ue(rt(te(t.initialValues),t.transform)):{},b=Ae(Ie(w),!1),T=e(b),D=e(0),[A,g,_]=O([T,D],([U,x])=>Xe(U,ne=>!!ne)&&x>=1,!1);delete A.set,delete A.update;function d(U){let x;return async function(ne,ue,ee,xe=!1){if(!ee||!ne)return;let Se=ue&&Object.keys(ue).length>0?ue:re(ne,[]);const Le=er(xe);if((!(x!=null&&x.signal.priority)||xe)&&(x==null||x.abort(),x=Le),x.signal.priority&&!xe)return;D.update($e=>$e+1);const st=zt(ne,ee);return st.forEach(async $e=>{const St=await $e;Le.signal.aborted||(Se=Re([Se,St]),U.set(Se))}),await Promise.all(st),x=void 0,D.update($e=>$e-1),Se}}let l=re(b,[]);const N=e(w),p=re(b,[]),R=e(p),Q=e(te(p)),[W,L,F]=O([R,Q],Re,te(p)),Z=re(b,[]),le=e(Z),pe=e(te(Z)),[ye,j,ce]=O([le,pe],Re,te(Z)),[Ee,c,k]=O([W,T],nr,te(p)),[S,M,$]=O([ye,T],sr,te(Z));let H=!1;const[oe,he,Fe]=O(W,([U])=>{var x;return H?!Xe(U,Y=>Array.isArray(Y)?Y.length>=1:!!Y):(H=!0,!t.validate&&!(!((x=t.debounced)===null||x===void 0)&&x.validate))},!t.validate&&!(!((n=t.debounced)===null||n===void 0)&&n.validate));delete oe.set,delete oe.update;const Ne=e(!1),Me=e(!1),He=e(null),Pe=d(R),de=d(le),f=d(Q),u=d(pe),y=Ye(f,(a=(s=(r=t.debounced)===null||r===void 0?void 0:r.validateTimeout)!==null&&s!==void 0?s:(i=t.debounced)===null||i===void 0?void 0:i.timeout)!==null&&a!==void 0?a:300,{onInit:()=>{D.update(U=>U+1)},onEnd:()=>{D.update(U=>U-1)}}),E=Ye(u,(h=(m=(o=t.debounced)===null||o===void 0?void 0:o.warnTimeout)!==null&&m!==void 0?m:(v=t.debounced)===null||v===void 0?void 0:v.timeout)!==null&&h!==void 0?h:300);async function V(U,x){var Y;const ne=Ie(U),ue=Pe(ne,l,x??t.validate,!0);if(x)return ue;const ee=f(ne,l,(Y=t.debounced)===null||Y===void 0?void 0:Y.validate,!0);return Re(await Promise.all([ue,ee]))}async function we(U,x){var Y;const ne=Ie(U),ue=de(ne,l,x??t.warn,!0);if(x)return ue;const ee=u(ne,l,(Y=t.debounced)===null||Y===void 0?void 0:Y.warn,!0);return Re(await Promise.all([ue,ee]))}let fe=p,B=Z;function q(){const U=N.subscribe(ee=>{var xe,Se;const Le=Ie(ee);Pe(Le,l,t.validate),de(Le,l,t.warn),y(Le,l,(xe=t.debounced)===null||xe===void 0?void 0:xe.validate),E(Le,l,(Se=t.debounced)===null||Se===void 0?void 0:Se.warn)}),x=T.subscribe(ee=>{l=re(ee,[])}),Y=W.subscribe(ee=>{fe=ee}),ne=ye.subscribe(ee=>{B=ee});L(),he(),j(),c(),M(),g();function ue(){U(),k(),F(),ce(),$(),Fe(),_(),x(),Y(),ne()}return ue}function ae(U){R.set(U(fe)),Q.set({})}function me(U){le.set(U(B)),pe.set({})}function ge(U){ae(()=>U)}function gt(U){me(()=>U)}return Ee.set=ge,Ee.update=ae,S.set=gt,S.update=me,{data:N,errors:Ee,warnings:S,touched:T,isValid:oe,isSubmitting:Ne,isDirty:Me,isValidating:A,interacted:He,validateErrors:V,validateWarnings:we,cleanup:t.preventStoreStart?()=>{}:q(),start:q}}function ar(e,t){var n,r;(n=e.extend)!==null&&n!==void 0||(e.extend=[]),(r=e.debounced)!==null&&r!==void 0||(e.debounced={}),e.validate&&!Array.isArray(e.validate)&&(e.validate=[e.validate]),e.debounced.validate&&!Array.isArray(e.debounced.validate)&&(e.debounced.validate=[e.debounced.validate]),e.transform&&!Array.isArray(e.transform)&&(e.transform=[e.transform]),e.warn&&!Array.isArray(e.warn)&&(e.warn=[e.warn]),e.debounced.warn&&!Array.isArray(e.debounced.warn)&&(e.debounced.warn=[e.debounced.warn]);function s(j,{debounced:ce,level:Ee}={debounced:!1,level:"error"}){var c;const k=Ee==="error"?"validate":"warn";(c=e.debounced)!==null&&c!==void 0||(e.debounced={});const S=ce?e.debounced:e;S[k]?S[k]=[...S[k],j]:S[k]=[j]}function i(j){e.transform?e.transform=[...e.transform,j]:e.transform=[j]}const a=Array.isArray(e.extend)?e.extend:[e.extend];let o=[];const m=()=>o,v=j=>{o=j},{isSubmitting:h,isValidating:O,data:w,errors:b,warnings:T,touched:D,isValid:A,isDirty:g,cleanup:_,start:d,validateErrors:l,validateWarnings:N,interacted:p}=or(t.storeFactory,e),R=w.update,Q=w.set,W=j=>R(ce=>Ue(rt(j(ce),e.transform))),L=j=>Q(Ue(rt(j,e.transform)));w.update=W,w.set=L;const F=Zt({extender:a,config:e,addValidator:s,addTransformer:i,validateErrors:l,validateWarnings:N,_getCurrentExtenders:m,stores:{data:w,errors:b,warnings:T,touched:D,isValid:A,isValidating:O,isSubmitting:h,isDirty:g,interacted:p}}),{createSubmitHandler:Z,handleSubmit:le}=F.public;o=a.map(j=>j({stage:"SETUP",errors:b,warnings:T,touched:D,data:w,isDirty:g,isValid:A,isValidating:O,isSubmitting:h,interacted:p,config:e,addValidator:s,addTransformer:i,setFields:F.public.setFields,reset:F.public.reset,validate:F.public.validate,handleSubmit:le,createSubmitHandler:Z}));const pe=Object.assign({config:e,stores:{data:w,touched:D,errors:b,warnings:T,isSubmitting:h,isValidating:O,isValid:A,isDirty:g,interacted:p},createSubmitHandler:Z,handleSubmit:le,helpers:Object.assign(Object.assign({},F.public),{addTransformer:i,addValidator:s}),extender:a,_getCurrentExtenders:m,_setCurrentExtenders:v},F.private),{form:ye}=Vt(pe);return Object.assign({data:w,errors:b,warnings:T,touched:D,isValid:A,isSubmitting:h,isValidating:O,isDirty:g,interacted:p,form:ye,cleanup:_,startStores:d},F.public)}function ur(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function lr(e){const t=ar(e??{},{storeFactory:It}),{cleanup:n,startStores:r}=t,s=ur(t,["cleanup","startStores"]);return Ot(n),s}function dt(e,t,n){const r=e.slice();return r[16]=t[n],r[18]=n,r}function ft(e){let t,n,r,s=e[0][e[18]]+"",i,a,o,m="+",v,h,O="-",w,b,T="0",D,A,g="Remove Counter",_,d,l;function N(){return e[9](e[18])}function p(){return e[10](e[18])}function R(){return e[11](e[18])}function Q(){return e[12](e[18])}return{c(){t=z("div"),n=z("input"),r=se(),i=Be(s),a=se(),o=z("button"),o.textContent=m,v=se(),h=z("button"),h.textContent=O,w=se(),b=z("button"),b.textContent=T,D=se(),A=z("button"),A.textContent=g,_=se(),this.h()},l(W){t=X(W,"DIV",{});var L=Te(t);n=X(L,"INPUT",{name:!0}),r=ie(L),i=qe(L,s),a=ie(L),o=X(L,"BUTTON",{"data-svelte-h":!0}),De(o)!=="svelte-8bj1e8"&&(o.textContent=m),v=ie(L),h=X(L,"BUTTON",{"data-svelte-h":!0}),De(h)!=="svelte-xk61is"&&(h.textContent=O),w=ie(L),b=X(L,"BUTTON",{"data-svelte-h":!0}),De(b)!=="svelte-1l1ex8d"&&(b.textContent=T),D=ie(L),A=X(L,"BUTTON",{type:!0,"data-svelte-h":!0}),De(A)!=="svelte-stofmk"&&(A.textContent=g),_=ie(L),L.forEach(K),this.h()},h(){ve(n,"name","counters."+e[18]+".value"),ve(A,"type","button")},m(W,L){ke(W,t,L),P(t,n),P(t,r),P(t,i),P(t,a),P(t,o),P(t,v),P(t,h),P(t,w),P(t,b),P(t,D),P(t,A),P(t,_),d||(l=[Ke(o,"click",N),Ke(h,"click",p),Ke(b,"click",R),Ke(A,"click",Q)],d=!0)},p(W,L){e=W,L&1&&s!==(s=e[0][e[18]]+"")&&tt(i,s)},d(W){W&&K(t),d=!1,vt(l)}}}function cr(e){let t,n,r,s="New Counter",i,a,o,m,v=e[2]()+"",h,O,w,b,T=e[3]()+"",D,A,g,_=ot(e[1]),d=[];for(let l=0;l<_.length;l+=1)d[l]=ft(dt(e,_,l));return{c(){t=z("form");for(let l=0;l<d.length;l+=1)d[l].c();n=se(),r=z("button"),r.textContent=s,i=se(),a=z("div"),o=z("p"),m=Be("title list: "),h=Be(v),O=se(),w=z("p"),b=Be("sum of count: "),D=Be(T),this.h()},l(l){t=X(l,"FORM",{});var N=Te(t);for(let W=0;W<d.length;W+=1)d[W].l(N);N.forEach(K),n=ie(l),r=X(l,"BUTTON",{type:!0,"data-svelte-h":!0}),De(r)!=="svelte-1vlbtck"&&(r.textContent=s),i=ie(l),a=X(l,"DIV",{});var p=Te(a);o=X(p,"P",{});var R=Te(o);m=qe(R,"title list: "),h=qe(R,v),R.forEach(K),O=ie(p),w=X(p,"P",{});var Q=Te(w);b=qe(Q,"sum of count: "),D=qe(Q,T),Q.forEach(K),p.forEach(K),this.h()},h(){ve(r,"type","button")},m(l,N){ke(l,t,N);for(let p=0;p<d.length;p+=1)d[p]&&d[p].m(t,null);ke(l,n,N),ke(l,r,N),ke(l,i,N),ke(l,a,N),P(a,o),P(o,m),P(o,h),P(a,O),P(a,w),P(w,b),P(w,D),A||(g=[kt(e[4].call(null,t)),Ke(r,"click",e[13])],A=!0)},p(l,[N]){if(N&131){_=ot(l[1]);let p;for(p=0;p<_.length;p+=1){const R=dt(l,_,p);d[p]?d[p].p(R,N):(d[p]=ft(R),d[p].c(),d[p].m(t,null))}for(;p<d.length;p+=1)d[p].d(1);d.length=_.length}N&4&&v!==(v=l[2]()+"")&&tt(h,v),N&8&&T!==(T=l[3]()+"")&&tt(D,T)},i:it,o:it,d(l){l&&(K(t),K(n),K(r),K(i),K(a)),Tt(d,l),A=!1,vt(g)}}}function dr(e,t,n){let r,s,i,a,o=[0];const{form:m,data:v,addField:h,unsetField:O}=lr({initialValues:{counters:[{value:"new"}]}});pt(e,v,d=>n(8,a=d));const w=d=>{n(0,o=[...o,0]),h("counters",{value:"new"},d)},b=d=>{n(0,o=[...o.slice(0,d),...o.slice(d+1)]),O(`counters.${d}`)},T=d=>n(0,o[d]+=1,o),D=d=>n(0,o[d]-=1,o),A=d=>n(0,o[d]=0,o),g=d=>b(d),_=()=>w();return e.$$.update=()=>{e.$$.dirty&256&&n(1,r=a.counters),e.$$.dirty&1&&console.log(o),e.$$.dirty&1&&n(3,s=()=>o.reduce((d,l)=>d+l,0)),e.$$.dirty&2&&n(2,i=()=>r.map(d=>d.value))},console.log(v),[o,r,i,s,m,v,w,b,a,T,D,A,g,_]}class fr extends yt{constructor(t){super(),ht(this,t,dr,cr,mt,{})}}const mr=""+new URL("../assets/svelte-welcome.c18bcf5a.webp",import.meta.url).href,vr=""+new URL("../assets/svelte-welcome.6c300099.png",import.meta.url).href;function pr(e){let t,n,r,s,i=`<span class="welcome svelte-1rtdfln"><picture><source srcset="${mr}" type="image/webp"/> <img src="${vr}" alt="Welcome" class="svelte-1rtdfln"/></picture></span>

    to your new<br/>SvelteKit app`,a,o,m,v,h="introduction",O,w,b,T="try editing <strong>src/routes/+page.svelte</strong>",D,A,g;return A=new fr({}),{c(){t=z("meta"),n=se(),r=z("section"),s=z("h1"),s.innerHTML=i,a=se(),o=z("ul"),m=z("li"),v=z("a"),v.textContent=h,w=se(),b=z("h2"),b.innerHTML=T,D=se(),Dt(A.$$.fragment),this.h()},l(_){const d=Ct("svelte-8gb88t",document.head);t=X(d,"META",{name:!0,content:!0}),d.forEach(K),n=ie(_),r=X(_,"SECTION",{class:!0});var l=Te(r);s=X(l,"H1",{class:!0,"data-svelte-h":!0}),De(s)!=="svelte-c4cu9i"&&(s.innerHTML=i),a=ie(l),o=X(l,"UL",{});var N=Te(o);m=X(N,"LI",{"aria-current":!0});var p=Te(m);v=X(p,"A",{href:!0,"data-svelte-h":!0}),De(v)!=="svelte-1atp0qr"&&(v.textContent=h),p.forEach(K),N.forEach(K),w=ie(l),b=X(l,"H2",{"data-svelte-h":!0}),De(b)!=="svelte-12e3nzn"&&(b.innerHTML=T),D=ie(l),Ft(A.$$.fragment,l),l.forEach(K),this.h()},h(){document.title="Home",ve(t,"name","description"),ve(t,"content","Svelte demo app"),ve(s,"class","svelte-1rtdfln"),ve(v,"href","/introduction"),ve(m,"aria-current",O=e[0].url.pathname==="/introduction"?"page":void 0),ve(r,"class","svelte-1rtdfln")},m(_,d){P(document.head,t),ke(_,n,d),ke(_,r,d),P(r,s),P(r,a),P(r,o),P(o,m),P(m,v),P(r,w),P(r,b),P(r,D),Nt(A,r,null),g=!0},p(_,[d]){(!g||d&1&&O!==(O=_[0].url.pathname==="/introduction"?"page":void 0))&&ve(m,"aria-current",O)},i(_){g||(Pt(A.$$.fragment,_),g=!0)},o(_){xt(A.$$.fragment,_),g=!1},d(_){_&&(K(n),K(r)),K(t),Lt(A)}}}function yr(e,t,n){let r;return pt(e,Ut,s=>n(0,r=s)),[r]}class gr extends yt{constructor(t){super(),ht(this,t,yr,pr,mt,{})}}export{gr as component,wr as universal};
